{"version":3,"mappings":"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","names":["Board","canWriteBoard","navigate","useNavigate","notices","setNotices","useState","currentPage","setCurrentPage","itemsPerPage","maxPageButtons","useEffect","params","result","fetchData","mappedNotices","item","e","fallback","__vitePreload","handleNoticeClick","notice","totalNotices","totalPages","indexOfLastItem","indexOfFirstItem","currentNotices","halfMaxButtons","startPage","endPage","pageNumbers","_","i","handlePageChange","pageNumber","jsxs","jsx","styles","idx","page"],"ignoreList":[],"sources":["../../src/pages/main/Board.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { fetchData } from '../../utils/dataUtils';\nimport styles from './Board.module.css';\n\nconst Board = ({ canWriteBoard }) => {\n  const navigate = useNavigate();\n  const [notices, setNotices] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n  const maxPageButtons = 10;\n\n  useEffect(() => {\n    const fetchNotices = async () => {\n      const params = {\n        gubun: 'LIST',\n        noticeId: '',\n        debug: 'F',\n      };\n      try {\n        const result = await fetchData('notice/list', params);\n        if (result.errCd === '00') {\n          const mappedNotices = result.data.map((item) => ({\n            id: item.NOTICEID,\n            title: item.TITLE,\n            date: item.REGEDT,\n          }));\n          setNotices(mappedNotices);\n        } else {\n          console.error('Failed to fetch notices:', result.errMsg);\n          setNotices([]);\n        }\n      } catch (e) {\n        console.error('Error fetching notices:', e);\n        const fallback = await import('../../data/notice.json');\n        setNotices(\n          fallback.default.map((item) => ({\n            id: item.NOTICEID,\n            title: item.TITLE,\n            date: item.REGEDT,\n          })) || []\n        );\n      }\n    };\n    fetchNotices();\n  }, [canWriteBoard]);\n\n  const handleNoticeClick = (notice) => {\n    navigate('/main/boardView', { state: { notice } });\n  };\n\n  const totalNotices = notices.length || 0;\n  const totalPages = Math.ceil(totalNotices / itemsPerPage);\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentNotices = notices.slice(indexOfFirstItem, indexOfLastItem);\n\n  const halfMaxButtons = Math.floor(maxPageButtons / 2);\n  let startPage = Math.max(1, currentPage - halfMaxButtons);\n  let endPage = Math.min(totalPages, startPage + maxPageButtons - 1);\n\n  if (endPage - startPage + 1 < maxPageButtons) {\n    startPage = Math.max(1, endPage - maxPageButtons + 1);\n  }\n\n  const pageNumbers = Array.from(\n    { length: endPage - startPage + 1 },\n    (_, i) => startPage + i\n  );\n\n  const handlePageChange = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <div className=\"h-100 p-3 border\" style={{ width: '100%' }}>\n      <div className=\"list-group-item d-flex justify-content-between align-items-center\">\n        <h3 className={`mb-3 fs-5 text-dark ${styles.boardTitle}`}>\n          공지사항\n        </h3>\n        {canWriteBoard && (\n          <button\n            className={`btn btn-primary mb-3 ${styles.btnReg}`}\n            onClick={() => navigate('/main/boardWrite')}\n          >\n            등록\n          </button>\n        )}\n      </div>\n      <ul className={`list-group list-group-flush ${styles.contentContainer}`}>\n        {currentNotices.length > 0 ? (\n          currentNotices.map((notice, idx) => (\n            <li\n              key={idx}\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n            >\n              <span\n                onClick={() => handleNoticeClick(notice)}\n                style={{ cursor: 'pointer' }}\n              >\n                <span>{totalNotices - (indexOfFirstItem + idx)}.</span>\n                <span>{notice.title}</span>\n              </span>\n              <div>\n                <span\n                  className={`badge bg-primary rounded-pill me-2 ${styles.contentDate}`}\n                >\n                  {notice.date || new Date().toLocaleDateString()}\n                </span>\n              </div>\n            </li>\n          ))\n        ) : (\n          <li className=\"list-group-item text-center\">공지사항이 없습니다.</li>\n        )}\n      </ul>\n\n      {totalPages > 1 && (\n        <nav aria-label=\"Page navigation\" className=\"mt-3\">\n          <ul className={`pagination justify-content-center ${styles.pagination}`}>\n            {totalPages > maxPageButtons && (\n              <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                <button\n                  className={`page-link ${styles.pageLink}`}\n                  onClick={() => handlePageChange(1)}\n                  disabled={currentPage === 1}\n                >\n                  &lt;&lt;\n                </button>\n              </li>\n            )}\n            <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n              <button\n                className={`page-link ${styles.pageLink}`}\n                onClick={() => handlePageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n              >\n                &lt;\n              </button>\n            </li>\n            {pageNumbers.map((page) => (\n              <li\n                key={page}\n                className={`page-item ${currentPage === page ? 'active' : ''}`}\n              >\n                <button\n                  className={`page-link ${styles.pageLink}`}\n                  onClick={() => handlePageChange(page)}\n                >\n                  {page}\n                </button>\n              </li>\n            ))}\n            <li\n              className={`page-item ${\n                currentPage === totalPages ? 'disabled' : ''\n              }`}\n            >\n              <button\n                className={`page-link ${styles.pageLink}`}\n                onClick={() => handlePageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n              >\n                &gt;\n              </button>\n            </li>\n            {totalPages > maxPageButtons && (\n              <li\n                className={`page-item ${\n                  currentPage === totalPages ? 'disabled' : ''\n                }`}\n              >\n                <button\n                  className={`page-link ${styles.pageLink}`}\n                  onClick={() => handlePageChange(totalPages)}\n                  disabled={currentPage === totalPages}\n                >\n                  &gt;&gt;\n                </button>\n              </li>\n            )}\n          </ul>\n        </nav>\n      )}\n    </div>\n  );\n};\n\nexport default Board;"],"file":"assets/Board-BXvgiszq.js"}