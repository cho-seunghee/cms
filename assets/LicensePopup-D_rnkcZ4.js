import{f as S,b as M,r as h,j as e,i as I,k as j}from"./index-CDzJiYq6.js";import{C as w}from"./CommonPopup-CuyX368z.js";const k=async(a,p,m,i,c)=>{try{const t=await S("auth/login",{empNo:p,empPwd:m});if(t.success)if(t.errMsg!=="")c(t.errMsg);else{if(t.data.user.pwdChgYn==="Y")return t;const{setUser:l}=M.getState();l({...t.data.user,expiresAt:t.data.expiresAt*1e3}),a==="web"?i("/main",{replace:!0}):i("/mobile/main",{replace:!0})}else throw new Error(t.errMsg||"아이디 또는 비밀번호가 잘못되었습니다.")}catch(t){console.error("Login error:",t.message),c(t.message||"로그인에 실패했습니다. 다시 시도해주세요.")}return null},T="_licenseContent_5nolu_1",C="_btn_5nolu_28",D="_btnSecondary_5nolu_32",u={licenseContent:T,btn:C,btnSecondary:D},A=[{name:"React",license:"MIT License",copyright:"Facebook, Inc. and its affiliates",repository:"https://github.com/facebook/react"},{name:"React Router DOM",license:"MIT License",copyright:"Remix Software, Inc",repository:"https://github.com/remix-run/react-router"},{name:"Bootstrap",license:"MIT License",copyright:"OpenJS Foundation",repository:"https://github.com/twbs/bootstrap"},{name:"Bootstrap Icons",license:"MIT License",copyright:"The Bootstrap Authors",repository:"https://github.com/twbs/icons"},{name:"FullCalendar",license:"MIT License",copyright:"FullCalendar LLC",repository:"https://github.com/fullcalendar/fullcalendar"},{name:"Axios",license:"MIT License",copyright:"Axios contributors",repository:"https://github.com/axios/axios"},{name:"Date-fns",license:"MIT License",copyright:"2015 Sasha Koss",repository:"https://github.com/date-fns/date-fns"},{name:"Styled-components",license:"MIT License",copyright:"2016-present Max Stoiber",repository:"https://github.com/styled-components/styled-components"},{name:"Swiper",license:"MIT License",copyright:"2014-present Vladimir Kharlampidi",repository:"https://github.com/nolimits4web/swiper"},{name:"Tabulator",license:"MIT License",copyright:"2012-present Oli Brooks",repository:"https://github.com/olifolkerd/tabulator"},{name:"XLSX",license:"Apache License 2.0",copyright:"2012-present, SheetJS",repository:"https://github.com/SheetJS/sheetjs"},{name:"Zustand",license:"MIT License",copyright:"2020-present POPLINE Studio",repository:"https://github.com/pmndrs/zustand"}],v=({show:a,onHide:p})=>{const[m,i]=h.useState([]),[c,t]=h.useState(!0),[l,d]=h.useState(null);return h.useEffect(()=>{a&&(async()=>{try{const r=await I(A),y=Array.isArray(r)?r:[r],n=await j("public/licenses/info");if(!n.success&&n.errMsg)throw console.error(n.errMsg),new Error(n.errMsg||"Server license data fetch failed");const g=Array.isArray(n.data)?n.data:[],b=y.map(s=>({name:s.name,license:s.license,copyright:s.copyright,repository:s.repository})),f=g.map(s=>({name:s.library,license:s.license,copyright:s.copyright,repository:s.url})),x=[...b,...f].sort((s,L)=>s.name.localeCompare(L.name));i(x)}catch(r){i([]),d("데이터 로드 실패: "+r.message)}finally{t(!1)}})()},[a]),e.jsx(w,{show:a,onHide:p,title:"License Information",buttons:[{label:"Close",className:`${u.btn} ${u.btnSecondary} btn btn-secondary`,action:p}],children:e.jsxs("div",{className:u.licenseContent,children:[c&&e.jsx("p",{children:"Loading..."}),l&&e.jsx("p",{className:"text-danger",children:l}),!c&&!l&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:"Software License Information"}),e.jsx("p",{children:"This application uses the following open-source libraries:"}),e.jsx("ul",{children:m.map((o,r)=>e.jsxs("li",{children:[o.name," - ",o.license,e.jsx("br",{}),"Copyright (c) ",o.copyright,e.jsx("br",{}),e.jsxs("a",{href:o.repository,target:"_blank",rel:"noopener noreferrer",children:[o.name," Repository"]})]},r))}),e.jsx("p",{children:"This application adheres to all provided open-source license terms. For detailed license information, please refer to the respective documentation of each library."})]})]})})};export{v as L,k as p};
//# sourceMappingURL=LicensePopup-D_rnkcZ4.js.map
