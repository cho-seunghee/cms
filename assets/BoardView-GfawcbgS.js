import{g as Et,r as i,j as c,o as Z,a as $t,u as Pt,b as Wt,h as Ut,f as be}from"./index-CDzJiYq6.js";import{e as W}from"./errorMsgPopup-BRg64j45.js";import{s as K}from"./Board.module-DCwUm73g.js";import{R as le}from"./index-BD8OiV0R.js";import{f as O}from"./fileUtils-BeuIT3kH.js";var ke={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tt;function Ht(){return tt||(tt=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=s(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)t.call(o,l)&&o[l]&&(a=s(a,l));return a}function s(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(ke)),ke.exports}var Gt=Ht();const k=Et(Gt),ue=!!(typeof window<"u"&&window.document&&window.document.createElement);var Pe=!1,We=!1;try{var Me={get passive(){return Pe=!0},get once(){return We=Pe=!0}};ue&&(window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,!0))}catch{}function gt(e,t,n,r){if(r&&typeof r!="boolean"&&!We){var s=r.once,o=r.capture,a=n;!We&&s&&(a=n.__once||function l(d){this.removeEventListener(t,l,o),n.call(this,d)},n.__once=a),e.addEventListener(t,a,Pe?r:o)}e.addEventListener(t,n,r)}function Ne(e){return e&&e.ownerDocument||document}function Ue(e,t,n,r){var s=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)}var Te;function nt(e){if((!Te&&Te!==0||e)&&ue){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Te=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Te}function Vt(){return i.useState(null)}function Kt(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function He(e){const t=Kt(e);return i.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const rt=e=>!e||typeof e=="function"?e:t=>{e.current=t};function zt(e,t){const n=rt(e),r=rt(t);return s=>{n&&n(s),r&&r(s)}}function xt(e,t){return i.useMemo(()=>zt(e,t),[e,t])}function qt(e){const t=i.useRef(e);return t.current=e,t}function Xt(e){const t=qt(e);i.useEffect(()=>()=>t.current(),[])}function Zt(e){var t=Ne(e);return t&&t.defaultView||window}function Yt(e,t){return Zt(e).getComputedStyle(e,t)}var Jt=/([A-Z])/g;function Qt(e){return e.replace(Jt,"-$1").toLowerCase()}var en=/^ms-/;function Ce(e){return Qt(e).replace(en,"-ms-")}var tn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function nn(e){return!!(e&&tn.test(e))}function Y(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Ce(t))||Yt(e).getPropertyValue(Ce(t));Object.keys(t).forEach(function(s){var o=t[s];!o&&o!==0?e.style.removeProperty(Ce(s)):nn(s)?r+=s+"("+o+") ":n+=Ce(s)+": "+o+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Re(e,t,n,r){return gt(e,t,n,r),function(){Ue(e,t,n,r)}}function rn(e,t,n,r){if(r===void 0&&(r=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,n,r),e.dispatchEvent(s)}}function on(e){var t=Y(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function sn(e,t,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||rn(e,"transitionend",!0)},t+n),o=Re(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function vt(e,t,n,r){n==null&&(n=on(e)||0);var s=sn(e,n,r),o=Re(e,"transitionend",t);return function(){s(),o()}}function Ie(e){e===void 0&&(e=Ne());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ot(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function an(){const e=i.useRef(!0),t=i.useRef(()=>e.current);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function cn(e){const t=i.useRef(e);return t.current=e,t}function ln(e){const t=cn(e);i.useEffect(()=>()=>t.current(),[])}function un(e){const t=i.useRef(null);return i.useEffect(()=>{t.current=e}),t.current}function dn(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function q(e){const t=dn(e);return i.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const fn="data-rr-ui-";function pn(e){return`${fn}${e}`}function mn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const st=pn("modal-open");class Ke{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return mn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[r]:s.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Y(s,r)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(st,""),Y(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(st),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const yt=i.createContext(ue?window:void 0);yt.Provider;function ze(){return i.useContext(yt)}const Le=(e,t)=>ue?e==null?(t||Ne()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function hn(e,t){const n=ze(),[r,s]=i.useState(()=>Le(e,n==null?void 0:n.document));if(!r){const o=Le(e);o&&s(o)}return i.useEffect(()=>{},[t,r]),i.useEffect(()=>{const o=Le(e);o!==r&&s(o)},[e,r]),r}const it=e=>!e||typeof e=="function"?e:t=>{e.current=t};function En(e,t){const n=it(e),r=it(t);return s=>{n&&n(s),r&&r(s)}}function qe(e,t){return i.useMemo(()=>En(e,t),[e,t])}const gn=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",xn=typeof document<"u",at=xn||gn?i.useLayoutEffect:i.useEffect;function vn(e){return e.code==="Escape"||e.keyCode===27}function yn(){const e=i.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function we(e){if(!e||typeof e=="function")return null;const{major:t}=yn();return t>=19?e.props.ref:e.ref}function bn({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:s}){const o=i.useRef(null),a=i.useRef(t),l=q(n);i.useEffect(()=>{t?a.current=!0:l(o.current)},[t,l]);const d=qe(o,we(e)),u=i.cloneElement(e,{ref:d});return t?u:s||!a.current&&r?null:u}const Tn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Cn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rn(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:d}=e,u=Cn(e,Tn);const h=i.useRef(null),g=qe(h,we(d)),f=S=>I=>{S&&h.current&&S(h.current,I)},R=i.useCallback(f(t),[t]),T=i.useCallback(f(n),[n]),C=i.useCallback(f(r),[r]),_=i.useCallback(f(s),[s]),w=i.useCallback(f(o),[o]),M=i.useCallback(f(a),[a]),D=i.useCallback(f(l),[l]);return Object.assign({},u,{nodeRef:h},t&&{onEnter:R},n&&{onEntering:T},r&&{onEntered:C},s&&{onExit:_},o&&{onExiting:w},a&&{onExited:M},l&&{addEndListener:D},{children:typeof d=="function"?(S,I)=>d(S,Object.assign({},I,{ref:g})):i.cloneElement(d,{ref:g})})}const Nn=["component"];function wn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Sn=i.forwardRef((e,t)=>{let{component:n}=e,r=wn(e,Nn);const s=Rn(r);return c.jsx(n,Object.assign({ref:t},s))});function jn({in:e,onTransition:t}){const n=i.useRef(null),r=i.useRef(!0),s=q(t);return at(()=>{if(!n.current)return;let o=!1;return s({in:e,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[e,s]),at(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function On({children:e,in:t,onExited:n,onEntered:r,transition:s}){const[o,a]=i.useState(!t);t&&o&&a(!1);const l=jn({in:!!t,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(a(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(h,g=>{throw u.in||a(!0),g})}}),d=qe(l,we(e));return o&&!t?null:i.cloneElement(e,{ref:d})}function ct(e,t,n){return e?c.jsx(Sn,Object.assign({},n,{component:e})):t?c.jsx(On,Object.assign({},n,{transition:t})):c.jsx(bn,Object.assign({},n))}const kn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Mn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let De;function In(e){return De||(De=new Ke({ownerDocument:e==null?void 0:e.document})),De}function Ln(e){const t=ze(),n=e||In(t),r=i.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:i.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:i.useCallback(s=>{r.current.backdrop=s},[])})}const bt=i.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:s,style:o,children:a,backdrop:l=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:g,runTransition:f,backdropTransition:R,runBackdropTransition:T,autoFocus:C=!0,enforceFocus:_=!0,restoreFocus:w=!0,restoreFocusOptions:M,renderDialog:D,renderBackdrop:S=v=>c.jsx("div",Object.assign({},v)),manager:I,container:j,onShow:L,onHide:H=()=>{},onExit:Q,onExited:G,onExiting:ee,onEnter:p,onEntering:b,onEntered:m}=e,N=Mn(e,kn);const y=ze(),F=hn(j),x=Ln(I),Se=an(),ge=un(n),[V,te]=i.useState(!n),B=i.useRef(null);i.useImperativeHandle(t,()=>x,[x]),ue&&!ge&&n&&(B.current=Ie(y==null?void 0:y.document)),n&&V&&te(!1);const P=q(()=>{if(x.add(),ne.current=Re(document,"keydown",Oe),fe.current=Re(document,"focus",()=>setTimeout(je),!0),L&&L(),C){var v,ye;const me=Ie((v=(ye=x.dialog)==null?void 0:ye.ownerDocument)!=null?v:y==null?void 0:y.document);x.dialog&&me&&!ot(x.dialog,me)&&(B.current=me,x.dialog.focus())}}),de=q(()=>{if(x.remove(),ne.current==null||ne.current(),fe.current==null||fe.current(),w){var v;(v=B.current)==null||v.focus==null||v.focus(M),B.current=null}});i.useEffect(()=>{!n||!F||P()},[n,F,P]),i.useEffect(()=>{V&&de()},[V,de]),ln(()=>{de()});const je=q(()=>{if(!_||!Se()||!x.isTopModal())return;const v=Ie(y==null?void 0:y.document);x.dialog&&v&&!ot(x.dialog,v)&&x.dialog.focus()}),xe=q(v=>{v.target===v.currentTarget&&(u==null||u(v),l===!0&&H())}),Oe=q(v=>{d&&vn(v)&&x.isTopModal()&&(h==null||h(v),v.defaultPrevented||H())}),fe=i.useRef(),ne=i.useRef(),ve=(...v)=>{te(!0),G==null||G(...v)};if(!F)return null;const re=Object.assign({role:r,ref:x.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},N,{style:o,className:s,tabIndex:-1});let pe=D?D(re):c.jsx("div",Object.assign({},re,{children:i.cloneElement(a,{role:"document"})}));pe=ct(g,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Q,onExiting:ee,onExited:ve,onEnter:p,onEntering:b,onEntered:m,children:pe});let oe=null;return l&&(oe=S({ref:x.setBackdropRef,onClick:xe}),oe=ct(R,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:oe})),c.jsx(c.Fragment,{children:le.createPortal(c.jsxs(c.Fragment,{children:[oe,pe]}),F)})});bt.displayName="Modal";const Dn=Object.assign(bt,{Manager:Ke});function Fn(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Bn(e,t){e.classList?e.classList.add(t):Fn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var An=Function.prototype.bind.call(Function.prototype.call,[].slice);function ie(e,t){return An(e.querySelectorAll(t))}function lt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _n(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=lt(e.className,t):e.setAttribute("class",lt(e.className&&e.className.baseVal||"",t))}const ae={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $n extends Ke{adjustAndStore(t,n,r){const s=n.style[t];n.dataset[t]=s,Y(n,{[t]:`${parseFloat(Y(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Y(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Bn(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ie(n,ae.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,t.scrollBarWidth)),ie(n,ae.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-t.scrollBarWidth)),ie(n,ae.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();_n(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ie(n,ae.FIXED_CONTENT).forEach(o=>this.restore(r,o)),ie(n,ae.STICKY_CONTENT).forEach(o=>this.restore(s,o)),ie(n,ae.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let Fe;function Pn(e){return Fe||(Fe=new $n(e)),Fe}function Wn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ge(e,t)}function Un(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ge(e,t)}var Be={exports:{}},Ae,ut;function Hn(){if(ut)return Ae;ut=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ae=e,Ae}var _e,dt;function Gn(){if(dt)return _e;dt=1;var e=Hn();function t(){}function n(){}return n.resetWarningCache=t,_e=function(){function r(a,l,d,u,h,g){if(g!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},_e}var ft;function Vn(){return ft||(ft=1,Be.exports=Gn()()),Be.exports}var Kn=Vn();const $e=Et(Kn),pt={disabled:!1},Tt=Z.createContext(null);var zn=function(t){return t.scrollTop},he="unmounted",z="exited",U="entering",X="entered",Ve="exiting",$=function(e){Un(t,e);function t(r,s){var o;o=e.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?l?(d=z,o.appearStatus=U):d=X:r.unmountOnExit||r.mountOnEnter?d=he:d=z,o.state={status:d},o.nextCallback=null,o}t.getDerivedStateFromProps=function(s,o){var a=s.in;return a&&o.status===he?{status:z}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==U&&a!==X&&(o=U):(a===U||a===X)&&(o=Ve)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,a,l;return o=a=l=s,s!=null&&typeof s!="number"&&(o=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:o,enter:a,appear:l}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===U){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:le.findDOMNode(this);a&&zn(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===z&&this.setState({status:he})},n.performEnter=function(s){var o=this,a=this.props.enter,l=this.context?this.context.isMounting:s,d=this.props.nodeRef?[l]:[le.findDOMNode(this),l],u=d[0],h=d[1],g=this.getTimeouts(),f=l?g.appear:g.enter;if(!s&&!a||pt.disabled){this.safeSetState({status:X},function(){o.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:U},function(){o.props.onEntering(u,h),o.onTransitionEnd(f,function(){o.safeSetState({status:X},function(){o.props.onEntered(u,h)})})})},n.performExit=function(){var s=this,o=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:le.findDOMNode(this);if(!o||pt.disabled){this.safeSetState({status:z},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ve},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:z},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,o.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:le.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=d[0],h=d[1];this.props.addEndListener(u,h)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===he)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Wn(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Z.createElement(Tt.Provider,{value:null},typeof a=="function"?a(s,l):Z.cloneElement(Z.Children.only(a),l))},t}(Z.Component);$.contextType=Tt;$.propTypes={};function ce(){}$.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ce,onEntering:ce,onEntered:ce,onExit:ce,onExiting:ce,onExited:ce};$.UNMOUNTED=he;$.EXITED=z;$.ENTERING=U;$.ENTERED=X;$.EXITING=Ve;function mt(e,t){const n=Y(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qn(e,t){const n=mt(e,"transitionDuration"),r=mt(e,"transitionDelay"),s=vt(e,o=>{o.target===e&&(s(),t(o))},n+r)}function Xn(e){e.offsetHeight}function Zn(e){return e&&"setState"in e?le.findDOMNode(e):e??null}const Ct=Z.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:s,onExited:o,addEndListener:a,children:l,childRef:d,...u},h)=>{const g=i.useRef(null),f=xt(g,d),R=j=>{f(Zn(j))},T=j=>L=>{j&&g.current&&j(g.current,L)},C=i.useCallback(T(e),[e]),_=i.useCallback(T(t),[t]),w=i.useCallback(T(n),[n]),M=i.useCallback(T(r),[r]),D=i.useCallback(T(s),[s]),S=i.useCallback(T(o),[o]),I=i.useCallback(T(a),[a]);return c.jsx($,{ref:h,...u,onEnter:C,onEntered:w,onEntering:_,onExit:M,onExited:S,onExiting:D,addEndListener:I,nodeRef:g,children:typeof l=="function"?(j,L)=>l(j,{...L,ref:R}):Z.cloneElement(l,{ref:R})})});Ct.displayName="TransitionWrapper";const Yn={[U]:"show",[X]:"show"},Xe=i.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...s},o)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=i.useCallback((d,u)=>{Xn(d),r==null||r(d,u)},[r]);return c.jsx(Ct,{ref:o,addEndListener:qn,...a,onEnter:l,childRef:we(t),children:(d,u)=>i.cloneElement(t,{...u,className:k("fade",e,t.props.className,Yn[d],n[d])})})});Xe.displayName="Fade";const Jn=["xxl","xl","lg","md","sm","xs"],Qn="xs",Ze=i.createContext({prefixes:{},breakpoints:Jn,minBreakpoint:Qn}),{Consumer:vr,Provider:yr}=Ze;function J(e,t){const{prefixes:n}=i.useContext(Ze);return e||n[t]||t}function er(){const{dir:e}=i.useContext(Ze);return e==="rtl"}const Rt=i.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},s)=>(t=J(t,"modal-body"),c.jsx(n,{ref:s,className:k(e,t),...r})));Rt.displayName="ModalBody";const Nt=i.createContext({onHide(){}}),Ye=i.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:s,fullscreen:o,children:a,scrollable:l,...d},u)=>{e=J(e,"modal");const h=`${e}-dialog`,g=typeof o=="string"?`${e}-fullscreen-${o}`:`${e}-fullscreen`;return c.jsx("div",{...d,ref:u,className:k(h,t,s&&`${e}-${s}`,r&&`${h}-centered`,l&&`${h}-scrollable`,o&&g),children:c.jsx("div",{className:k(`${e}-content`,n),children:a})})});Ye.displayName="ModalDialog";const wt=i.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},s)=>(t=J(t,"modal-footer"),c.jsx(n,{ref:s,className:k(e,t),...r})));wt.displayName="ModalFooter";const tr={"aria-label":$e.string,onClick:$e.func,variant:$e.oneOf(["white"])},Je=i.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},s)=>c.jsx("button",{ref:s,type:"button",className:k("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Je.displayName="CloseButton";Je.propTypes=tr;const St=i.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:s,...o},a)=>{const l=i.useContext(Nt),d=He(()=>{l==null||l.onHide(),r==null||r()});return c.jsxs("div",{ref:a,...o,children:[s,n&&c.jsx(Je,{"aria-label":e,variant:t,onClick:d})]})});St.displayName="AbstractModalHeader";const jt=i.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...s},o)=>(e=J(e,"modal-header"),c.jsx(St,{ref:o,...s,className:k(t,e),closeLabel:n,closeButton:r})));jt.displayName="ModalHeader";const nr=e=>i.forwardRef((t,n)=>c.jsx("div",{...t,ref:n,className:k(t.className,e)})),rr=nr("h4"),Ot=i.forwardRef(({className:e,bsPrefix:t,as:n=rr,...r},s)=>(t=J(t,"modal-title"),c.jsx(n,{ref:s,className:k(e,t),...r})));Ot.displayName="ModalTitle";function or(e){return c.jsx(Xe,{...e,timeout:null})}function sr(e){return c.jsx(Xe,{...e,timeout:null})}const kt=i.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:s,children:o,dialogAs:a=Ye,"data-bs-theme":l,"aria-labelledby":d,"aria-describedby":u,"aria-label":h,show:g=!1,animation:f=!0,backdrop:R=!0,keyboard:T=!0,onEscapeKeyDown:C,onShow:_,onHide:w,container:M,autoFocus:D=!0,enforceFocus:S=!0,restoreFocus:I=!0,restoreFocusOptions:j,onEntered:L,onExit:H,onExiting:Q,onEnter:G,onEntering:ee,onExited:p,backdropClassName:b,manager:m,...N},y)=>{const[F,x]=i.useState({}),[Se,ge]=i.useState(!1),V=i.useRef(!1),te=i.useRef(!1),B=i.useRef(null),[P,de]=Vt(),je=xt(y,de),xe=He(w),Oe=er();e=J(e,"modal");const fe=i.useMemo(()=>({onHide:xe}),[xe]);function ne(){return m||Pn({isRTL:Oe})}function ve(E){if(!ue)return;const se=ne().getScrollbarWidth()>0,et=E.scrollHeight>Ne(E).documentElement.clientHeight;x({paddingRight:se&&!et?nt():void 0,paddingLeft:!se&&et?nt():void 0})}const re=He(()=>{P&&ve(P.dialog)});Xt(()=>{Ue(window,"resize",re),B.current==null||B.current()});const pe=()=>{V.current=!0},oe=E=>{V.current&&P&&E.target===P.dialog&&(te.current=!0),V.current=!1},v=()=>{ge(!0),B.current=vt(P.dialog,()=>{ge(!1)})},ye=E=>{E.target===E.currentTarget&&v()},me=E=>{if(R==="static"){ye(E);return}if(te.current||E.target!==E.currentTarget){te.current=!1;return}w==null||w()},It=E=>{T?C==null||C(E):(E.preventDefault(),R==="static"&&v())},Lt=(E,se)=>{E&&ve(E),G==null||G(E,se)},Dt=E=>{B.current==null||B.current(),H==null||H(E)},Ft=(E,se)=>{ee==null||ee(E,se),gt(window,"resize",re)},Bt=E=>{E&&(E.style.display=""),p==null||p(E),Ue(window,"resize",re)},At=i.useCallback(E=>c.jsx("div",{...E,className:k(`${e}-backdrop`,b,!f&&"show")}),[f,b,e]),Qe={...n,...F};Qe.display="block";const _t=E=>c.jsx("div",{role:"dialog",...E,style:Qe,className:k(t,e,Se&&`${e}-static`,!f&&"show"),onClick:R?me:void 0,onMouseUp:oe,"data-bs-theme":l,"aria-label":h,"aria-labelledby":d,"aria-describedby":u,children:c.jsx(a,{...N,onMouseDown:pe,className:r,contentClassName:s,children:o})});return c.jsx(Nt.Provider,{value:fe,children:c.jsx(Dn,{show:g,ref:je,backdrop:R,container:M,keyboard:!0,autoFocus:D,enforceFocus:S,restoreFocus:I,restoreFocusOptions:j,onEscapeKeyDown:It,onShow:_,onHide:w,onEnter:Lt,onEntering:Ft,onEntered:L,onExit:Dt,onExiting:Q,onExited:Bt,manager:ne(),transition:f?or:void 0,backdropTransition:f?sr:void 0,renderBackdrop:At,renderDialog:_t})})});kt.displayName="Modal";const A=Object.assign(kt,{Body:Rt,Header:jt,Title:Ot,Footer:wt,Dialog:Ye,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ir=["as","disabled"];function ar(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cr(e){return!e||e.trim()==="#"}function Mt({tagName:e,disabled:t,href:n,target:r,rel:s,role:o,onClick:a,tabIndex:l=0,type:d}){e||(n!=null||r!=null||s!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:d||"button",disabled:t},u];const h=f=>{if((t||e==="a"&&cr(n))&&f.preventDefault(),t){f.stopPropagation();return}a==null||a(f)},g=f=>{f.key===" "&&(f.preventDefault(),h(f))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:t?void 0:l,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?s:void 0,onClick:h,onKeyDown:g},u]}const lr=i.forwardRef((e,t)=>{let{as:n,disabled:r}=e,s=ar(e,ir);const[o,{tagName:a}]=Mt(Object.assign({tagName:n,disabled:r},s));return c.jsx(a,Object.assign({},s,o,{ref:t}))});lr.displayName="Button";const Ee=i.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:s=!1,disabled:o=!1,className:a,...l},d)=>{const u=J(t,"btn"),[h,{tagName:g}]=Mt({tagName:e,disabled:o,...l}),f=g;return c.jsx(f,{...h,...l,ref:d,disabled:o,className:k(a,u,s&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,l.href&&o&&"disabled")})});Ee.displayName="Button";const ur=({imageSrc:e,fileName:t,onClose:n,zoomLevel:r,onZoomIn:s,onZoomOut:o})=>c.jsxs(A,{show:!0,onHide:n,centered:!0,children:[c.jsx(A.Header,{closeButton:!0,children:c.jsx(A.Title,{children:t})}),c.jsx(A.Body,{style:{textAlign:"center",padding:"20px"},children:c.jsx("img",{src:e,alt:t,style:{maxWidth:"100%",maxHeight:"80vh",transform:`scale(${r})`,transition:"transform 0.2s"}})}),c.jsxs(A.Footer,{children:[c.jsx(Ee,{variant:"secondary",onClick:o,children:"축소"}),c.jsx(Ee,{variant:"secondary",onClick:s,children:"확대"}),c.jsx(Ee,{variant:"primary",onClick:n,children:"닫기"})]})]}),dr="_textModalBody_1s5gf_1",fr="_textContent_1s5gf_7",ht={textModalBody:dr,textContent:fr},pr=({textContent:e,fileName:t,onClose:n})=>c.jsxs(A,{show:!0,onHide:n,centered:!0,size:"lg",children:[c.jsx(A.Header,{closeButton:!0,children:c.jsx(A.Title,{children:t})}),c.jsx(A.Body,{className:ht.textModalBody,children:c.jsx("pre",{className:ht.textContent,children:e||"내용을 불러오는 중 오류가 발생했습니다."})}),c.jsx(A.Footer,{children:c.jsx(Ee,{variant:"primary",onClick:n,children:"닫기"})})]}),br=()=>{const{state:e}=$t(),t=Pt(),{user:n}=Wt(),r=e==null?void 0:e.notice,s=n&&Ut(n.auth,"mainBoard"),[o,a]=i.useState((r==null?void 0:r.title)||""),[l,d]=i.useState(""),[u,h]=i.useState([]),[g,f]=i.useState(null),[R,T]=i.useState(null),[C,_]=i.useState(r),[w,M]=i.useState(1),D=()=>{f(null),M(1)},S=()=>{T(null)};i.useEffect(()=>{const p=async()=>{try{const m=await be("notice/list",{gubun:"DETAIL",noticeId:r.id,debug:"F"});if(m.errCd==="00"&&m.data.length>0){const N={id:m.data[0].NOTICEID,title:m.data[0].TITLE,date:m.data[0].REGEDT,regedBy:m.data[0].REGEDBY,content:m.data[0].CONTENTS||""};_(N),a(N.title),d(N.content)}else console.error("Failed to fetch notice details:",m.errMsg),W("공지사항 상세 정보를 불러오지 못했습니다.")}catch(m){console.error("Error fetching notice details:",m),W("공지사항 상세 정보를 불러오는 중 오류가 발생했습니다.")}},b=async()=>{try{const m=await be("notice/filelist",{gubun:"LIST",noticeId:r.id,fileId:"",debug:"F"});if(m.errCd==="00"){const N=m.data.map(y=>({fileId:y.FILEID,noticeId:y.NOTICEID,fileName:y.FILENM,fileSize:y.FILESIZE||0}));h(N)}else h([])}catch(m){console.error("Error fetching files:",m),W("파일 목록을 불러오는 중 오류가 발생했습니다.")}};r!=null&&r.id&&(p(),b())},[r==null?void 0:r.id]);const I=()=>{t("/main/boardWrite",{state:{notice:C,files:u}})},j=async p=>{var b;try{const m=await be("notice/filelist",{gubun:"DETAIL",noticeId:r.id||"",fileId:p.fileId,debug:"F"});if(m.errCd==="00"&&m.data.length>0){const N=(b=O.getFileExtension(m.data[0].FILENM))==null?void 0:b.toLowerCase(),y=O.mimeTypes[N]||"application/octet-stream",F=m.data[0].FILEDATA;if(O.isImageFile(p)){const x=`data:${y};base64,${F}`;f({src:x,fileName:m.data[0].FILENM})}else if(O.isTextFile(p)){const x=O.decodeBase64ToText(F);T({content:x,fileName:m.data[0].FILENM})}else{const x=document.createElement("a");x.href=`data:${y};base64,${F}`,x.download=m.data[0].FILENM,document.body.appendChild(x),x.click(),document.body.removeChild(x)}}else console.error("Failed to fetch file details:",m.errMsg),W("파일을 불러오지 못했습니다.")}catch(m){console.error("Error fetching file details:",m),W("파일을 불러오는 중 오류가 발생했습니다.")}},L=async p=>{try{const b=await be("notice/filelist",{gubun:"DETAIL",noticeId:r.id||"",fileId:p.fileId,debug:"F"});if(b.errCd==="00"&&b.data.length>0){const m=b.data[0].FILEDATA,N=O.mimeTypes[O.getFileExtension(p.fileName)]||"application/octet-stream",y=document.createElement("a");y.href=`data:${N};base64,${m}`,y.download=p.fileName,document.body.appendChild(y),y.click(),document.body.removeChild(y)}else W("파일을 다운로드할 수 없습니다.")}catch(b){console.error("Error fetching file for download:",b),W("파일 다운로드 중 오류가 발생했습니다.")}},H=async()=>{if(u.length===0){W("다운로드할 파일이 없습니다.");return}for(const p of u)await L(p)},Q=p=>c.jsx("i",{className:`bi ${O.getFileIcon(p)} me-2`}),G=()=>{M(p=>Math.min(p+.1,3))},ee=()=>{M(p=>Math.max(p-.1,.1))};return c.jsxs("div",{className:"container bg-body",children:[c.jsx("h2",{className:`text-primary text-dark fs-5 mb-4 pt-3 ${K.boardTitle}`,children:"공지사항 상세"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"작성일"}),c.jsx("input",{className:`form-control ${K.formControl}`,value:(C==null?void 0:C.date)||"",readOnly:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"작성자"}),c.jsx("input",{className:`form-control ${K.formControl}`,value:(C==null?void 0:C.regedBy)||"",readOnly:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"제목"}),c.jsx("input",{className:`form-control ${K.formControl}`,value:o,readOnly:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"내용"}),c.jsx("textarea",{className:`form-control ${K.formControl}`,rows:"5",value:l,readOnly:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"form-label d-flex justify-content-between align-items-center",children:[c.jsx("span",{children:"첨부파일"}),u.length>0&&c.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:H,children:"전체 다운로드"})]}),(u==null?void 0:u.length)>0?u.map((p,b)=>c.jsxs("div",{className:`d-flex align-items-center mb-2 ${K.fileItem}`,children:[c.jsx("div",{className:K.imageFile,children:O.isImageFile(p)||O.isTextFile(p)?c.jsxs("span",{onClick:()=>j(p),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:[Q(p),p.fileName," (",O.formatFileSize(p.fileSize),")"]}):c.jsxs("span",{children:[Q(p),p.fileName," (",O.formatFileSize(p.fileSize),")"]})}),c.jsxs("button",{className:"btn btn-sm btn-outline-secondary ms-2",onClick:()=>L(p),children:[c.jsx("i",{className:"bi bi-download"})," 다운로드"]})]},b)):c.jsx("div",{children:"첨부파일 없음"})]}),c.jsx("button",{className:"btn btn-secondary me-2 mb-3 mt-5",onClick:()=>t("/main"),children:"뒤로 가기"}),s&&c.jsx("button",{className:"btn btn-warning me-2 mb-3 mt-5",onClick:I,children:"변경 가기"}),g&&c.jsx(ur,{imageSrc:g.src,fileName:g.fileName,onClose:D,zoomLevel:w,onZoomIn:G,onZoomOut:ee}),R&&c.jsx(pr,{textContent:R.content,fileName:R.fileName,onClose:S})]})};export{br as default};
//# sourceMappingURL=BoardView-GfawcbgS.js.map
